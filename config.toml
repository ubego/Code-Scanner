# Code Scanner Configuration

# Checks are organized into groups, each with a file pattern and list of rules.
# Pattern uses glob syntax: "*.cpp, *.h" matches C++ files, "*" matches all files.

# C++/Qt specific checks
[[checks]]
pattern = "*.cpp, *.h, *.cxx, *.hpp"
checks = [
    "Check for any detectable errors and suggest code simplifications where possible.",
    "Check that iteration continues automatically until the final result, without requiring user prompts to proceed.",
    "Check that constexpr and compile-time programming techniques are applied where appropriate.",
    "Check that stack allocation is preferred over heap allocation whenever possible.",
    "Check that string literals are handled through QStringView variables.",
    "Check that string literals used multiple times are stored in named QStringView constants instead of being repeated.",
    "Check that comments provide meaningful context or rationale and avoid restating obvious code behavior.",
    "Check that functions are implemented in .cpp files rather than .h files.",
    "Check for opportunities to optimize algorithms and data structures.",
]

# General checks for all files
[[checks]]
pattern = "*"
checks = [
    "Check for unused files or dead code.",
    "Check that all changed code paths handle edge cases and error conditions correctly.",
    "Check that the overall design fits the existing architecture and abstractions.",
    "Check that complex logic is broken down into small, understandable units with clear responsibilities.",
    "Check that names of variables, methods, and classes are clear, descriptive, and consistent.",
    "Check for obvious performance issues like N+1 queries or unnecessary loops.",
    "Check that database queries and external service calls are efficient and properly constrained.",
    "Check that public APIs, configuration changes, or new behaviors are properly documented.",
    "Check that comments and documentation are accurate, necessary, and up to date.",
    "Check that logging and error messages are clear, informative, and follow project conventions.",
    "Check that no sensitive data (keys, PII) is logged or exposed in output.",
    "Check that configuration changes have safe, sensible defaults.",
    "Check that feature flags are named consistently and reflect their purpose.",
]

# Ignore patterns - files matching these patterns will be skipped
# (check groups with empty checks list act as ignore patterns)
[[checks]]
pattern = "*.md, *.txt, *.rst, *.html, *.json, *.toml, *.yaml, *.yml"
checks = []

[llm]
# LM Studio (default)
backend = "lm-studio"
host = "localhost"
port = 1234
# model = "qwen2.5-coder-7b-instruct"
timeout = 600
context_limit = 16384

# Ollama alternative (uncomment to use)
# backend = "ollama"
# host = "localhost"
# port = 11434
# model = "qwen3:4b"  # Required for Ollama
# timeout = 600
# context_limit = 8192